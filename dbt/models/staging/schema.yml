version: 2

sources:
  - name: synology_ingestion
    description: "Outputs generated by the ingestion CLI and staged as dbt seeds or external tables."
    schema: seeds
    tables:
      - name: im_sales_history_2023
      - name: im_sales_history_2024
      - name: im_sales_history_2025
      - name: tdbs_sales_history_2023
      - name: tdbs_sales_history_2024

models:
  - name: stg_synology_sales
    description: "Unified sale-out history across ingestion snapshots with standardized column names."
    columns:
      - name: sale_date
        description: "Date the sale occurred (UTC)."
        tests:
          - not_null
      - name: sku
        description: "Inventory SKU identifier."
        tests:
          - not_null
      - name: channel
        description: "Sales channel label (e.g. IM, TDBS)."
      - name: quantity
        description: "Units sold in the reporting period."
        tests:
          - not_null
      - name: revenue
        description: "Total revenue for the SKU/channel/day combination."
